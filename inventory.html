<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ChefOS Stock</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1><i class="fas fa-warehouse"></i> ChefOS Stock</h1>
      </div>
      
      <div class="sidebar-nav">
        <div class="nav-section">
          <h3>Menu</h3>
          <ul class="nav-links">
            <li><a href="pos.html"><i class="fas fa-cash-register"></i> POS</a></li>
            <li><a href="orders.html"><i class="fas fa-list"></i> Orders</a></li>
            <li><a href="kds.html"><i class="fas fa-utensils"></i> ChefOS Line</a></li>
          </ul>
        </div>
        
        <div class="nav-section">
          <h3>Management</h3>
          <ul class="nav-links">
            <li><a href="inventory.html" class="active"><i class="fas fa-boxes"></i> ChefOS Stock</a></li>
            <li><a href="reports.html"><i class="fas fa-chart-bar"></i> ChefOS Insights</a></li>
            <li><a href="settings.html"><i class="fas fa-cog"></i> Settings</a></li>
          </ul>
        </div>
      </div>
      
      <!-- SETTINGS PANEL -->
      <div class="settings-panel">
        <div class="theme-toggle">
          <span><i class="fas fa-moon"></i> Dark Mode</span>
          <label class="toggle-switch">
            <input type="checkbox" id="themeToggle">
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      
      <!-- HELP CENTER -->
      <div class="help-center">
        <h4><i class="fas fa-life-ring"></i> Help Center</h4>
        <div class="contact-info">
          <a href="mailto:dereck@dereckmungoriwo.online">
            <i class="fas fa-envelope"></i> dereck@dereckmungoriwo.online
          </a>
          <a href="https://wa.me/27717184048" target="_blank">
            <i class="fab fa-whatsapp"></i> +27 71 718 4048
          </a>
          <div>
            <i class="fas fa-clock"></i> 24/7 Support
          </div>
        </div>
      </div>
      
      <a href="login.html" class="logout-btn">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </aside>

    <!-- MAIN CONTENT -->
    <div class="main-content">
      <!-- TOP BAR -->
      <div class="top-bar">
        <div class="time-display" id="currentTime">Loading time...</div>
        <div class="user-info">
          <div class="user-avatar">DM</div>
          <div>
            <div style="font-weight: 600; color: var(--dark);">Dereck Mungoriwo</div>
            <div style="font-size: 14px; color: var(--gray);">Manager</div>
          </div>
        </div>
      </div>

      <!-- INVENTORY CONTAINER -->
      <div class="inventory-container">
        <div class="inventory-header">
          <h2><i class="fas fa-boxes"></i> Inventory Management</h2>
          <div class="inventory-actions">
            <button class="action-btn add-btn" id="addItemBtn">
              <i class="fas fa-plus"></i> Add Item
            </button>
            <button class="action-btn refresh-btn" id="refreshBtn">
              <i class="fas fa-sync-alt"></i> Refresh
            </button>
            <button class="action-btn restock-btn" id="lowStockBtn">
              <i class="fas fa-exclamation-triangle"></i> Low Stock
            </button>
          </div>
        </div>

        <!-- INVENTORY STATS -->
        <div class="inventory-stats">
          <div class="stat-card">
            <div class="stat-icon" style="background: #28a745;">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-info">
              <h3 id="totalItems">0</h3>
              <p>Total Items</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background: #ffc107;">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-info">
              <h3 id="lowStockItems">0</h3>
              <p>Low Stock</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background: #e74c3c;">
              <i class="fas fa-times-circle"></i>
            </div>
            <div class="stat-info">
              <h3 id="outOfStockItems">0</h3>
              <p>Out of Stock</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background: #007bff;">
              <i class="fas fa-truck"></i>
            </div>
            <div class="stat-info">
              <h3 id="needRestock">0</h3>
              <p>Need Restock</p>
            </div>
          </div>
        </div>

        <!-- INVENTORY FILTERS -->
        <div class="inventory-filters">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Search inventory items...">
          </div>
          <div class="filter-options">
            <select id="categoryFilter">
              <option value="all">All Categories</option>
              <option value="breakfast">Breakfast</option>
              <option value="main">Main Course</option>
              <option value="salads">Salads</option>
              <option value="desserts">Desserts</option>
              <option value="ingredients">Ingredients</option>
            </select>
            <select id="stockFilter">
              <option value="all">All Stock Levels</option>
              <option value="low">Low Stock</option>
              <option value="out">Out of Stock</option>
              <option value="good">Good Stock</option>
            </select>
          </div>
        </div>

        <!-- INVENTORY TABLE -->
        <div class="inventory-table-container">
          <table class="inventory-table">
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Category</th>
                <th>Current Stock</th>
                <th>Min Stock</th>
                <th>Status</th>
                <th>Last Updated</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="inventory-list">
              <!-- Inventory items will be loaded here -->
            </tbody>
          </table>
          
          <div id="no-inventory" style="display: none; text-align: center; padding: 40px;">
            <i class="fas fa-box-open fa-3x" style="color: var(--gray);"></i>
            <h3 style="margin: 20px 0 10px; color: var(--gray);">No Inventory Items</h3>
            <p style="color: var(--gray);">Add items to manage your inventory.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ADD/EDIT ITEM MODAL -->
  <div id="itemModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><span id="modalTitle">Add New Item</span></h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <form id="inventoryForm">
          <input type="hidden" id="editItemId">
          
          <div class="form-group">
            <label for="itemName">Item Name *</label>
            <input type="text" id="itemName" required placeholder="e.g., Flour, Eggs, Beef">
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="itemCategory">Category *</label>
              <select id="itemCategory" required>
                <option value="">Select Category</option>
                <option value="breakfast">Breakfast</option>
                <option value="main">Main Course</option>
                <option value="salads">Salads</option>
                <option value="desserts">Desserts</option>
                <option value="ingredients">Ingredients</option>
                <option value="beverages">Beverages</option>
                <option value="dairy">Dairy</option>
                <option value="produce">Produce</option>
                <option value="meat">Meat & Poultry</option>
                <option value="seafood">Seafood</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="itemUnit">Unit</label>
              <select id="itemUnit">
                <option value="kg">Kilograms (kg)</option>
                <option value="g">Grams (g)</option>
                <option value="lbs">Pounds (lbs)</option>
                <option value="oz">Ounces (oz)</option>
                <option value="L">Liters (L)</option>
                <option value="ml">Milliliters (ml)</option>
                <option value="pcs">Pieces</option>
                <option value="box">Box</option>
                <option value="bottle">Bottle</option>
                <option value="can">Can</option>
              </select>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="currentStock">Current Stock *</label>
              <input type="number" id="currentStock" required min="0" step="0.01" placeholder="0">
            </div>
            
            <div class="form-group">
              <label for="minStock">Minimum Stock *</label>
              <input type="number" id="minStock" required min="0" step="0.01" placeholder="10">
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="supplier">Supplier</label>
              <input type="text" id="supplier" placeholder="Supplier name">
            </div>
            
            <div class="form-group">
              <label for="cost">Cost per Unit</label>
              <input type="number" id="cost" min="0" step="0.01" placeholder="0.00">
            </div>
          </div>
          
          <div class="form-group">
            <label for="itemNotes">Notes</label>
            <textarea id="itemNotes" rows="3" placeholder="Additional notes about this item..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary modal-close">Cancel</button>
        <button class="btn btn-primary" id="saveItemBtn">Save Item</button>
      </div>
    </div>
  </div>

  <!-- RESTOCK MODAL -->
  <div id="restockModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class="fas fa-truck"></i> Restock Item</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <form id="restockForm">
          <input type="hidden" id="restockItemId">
          
          <div class="restock-info">
            <h4 id="restockItemName"></h4>
            <p>Current Stock: <span id="restockCurrent"></span></p>
            <p>Minimum Stock: <span id="restockMin"></span></p>
          </div>
          
          <div class="form-group">
            <label for="restockQuantity">Quantity to Add *</label>
            <input type="number" id="restockQuantity" required min="1" step="0.01" placeholder="Enter quantity">
          </div>
          
          <div class="form-group">
            <label for="restockNotes">Restock Notes</label>
            <textarea id="restockNotes" rows="2" placeholder="Notes about this restock..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary modal-close">Cancel</button>
        <button class="btn btn-success" id="confirmRestockBtn">Confirm Restock</button>
      </div>
    </div>
  </div>

  <script src="assets/js/menuItems.js"></script>
  <script>
    // DOM Elements
    const inventoryList = document.getElementById('inventory-list');
    const noInventoryMessage = document.getElementById('no-inventory');
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const stockFilter = document.getElementById('stockFilter');
    const refreshBtn = document.getElementById('refreshBtn');
    const addItemBtn = document.getElementById('addItemBtn');
    const lowStockBtn = document.getElementById('lowStockBtn');
    
    // Statistics elements
    const totalItemsEl = document.getElementById('totalItems');
    const lowStockItemsEl = document.getElementById('lowStockItems');
    const outOfStockItemsEl = document.getElementById('outOfStockItems');
    const needRestockEl = document.getElementById('needRestock');
    
    // Modal elements
    const itemModal = document.getElementById('itemModal');
    const restockModal = document.getElementById('restockModal');
    const modalCloseButtons = document.querySelectorAll('.modal-close');
    
    // Form elements
    const inventoryForm = document.getElementById('inventoryForm');
    const saveItemBtn = document.getElementById('saveItemBtn');
    const confirmRestockBtn = document.getElementById('confirmRestockBtn');
    
    // Current state
    let inventoryData = [];
    let currentItemId = null;
    
    function loadInventory() {
      inventoryData = JSON.parse(localStorage.getItem('chefos_inventory_detailed')) || [];
      
      if (inventoryData.length === 0) {
        initializeInventory();
      }
      
      applyFilters();
      updateInventoryStats();
    }
    
    function initializeInventory() {
      const allIngredients = new Set();
      
      if (typeof menuItems !== 'undefined') {
        menuItems.forEach(item => {
          Object.keys(item.ingredients).forEach(ingredient => {
            allIngredients.add(ingredient);
          });
        });
        
        inventoryData = Array.from(allIngredients).map(ingredient => ({
          id: Date.now() + Math.random(),
          name: ingredient.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase()),
          category: getIngredientCategory(ingredient),
          currentStock: 20,
          minStock: 5,
          unit: 'pcs',
          supplier: '',
          cost: 0,
          notes: '',
          lastUpdated: new Date().toISOString(),
          history: []
        }));
      } else {
        inventoryData = [
          {
            id: 1,
            name: 'Flour',
            category: 'ingredients',
            currentStock: 20,
            minStock: 5,
            unit: 'kg',
            supplier: 'Bakery Supplies Co',
            cost: 2.5,
            notes: 'All-purpose flour',
            lastUpdated: new Date().toISOString(),
            history: []
          },
          {
            id: 2,
            name: 'Eggs',
            category: 'breakfast',
            currentStock: 30,
            minStock: 10,
            unit: 'pcs',
            supplier: 'Fresh Farms',
            cost: 0.25,
            notes: 'Large eggs',
            lastUpdated: new Date().toISOString(),
            history: []
          },
          {
            id: 3,
            name: 'Beef Patty',
            category: 'meat',
            currentStock: 15,
            minStock: 5,
            unit: 'pcs',
            supplier: 'Quality Meats',
            cost: 3.5,
            notes: '80/20 beef patties',
            lastUpdated: new Date().toISOString(),
            history: []
          }
        ];
      }
      
      saveInventory();
    }
    
    function getIngredientCategory(ingredient) {
      const categories = {
        'flour': 'ingredients', 'eggs': 'breakfast', 'milk': 'dairy',
        'butter': 'dairy', 'bacon': 'meat', 'bread': 'ingredients',
        'beef_patty': 'meat', 'chicken': 'meat', 'salmon': 'seafood',
        'pasta': 'ingredients', 'potato': 'produce',
        'default': 'ingredients'
      };
      return categories[ingredient] || 'ingredients';
    }
    
    function saveInventory() {
      localStorage.setItem('chefos_inventory_detailed', JSON.stringify(inventoryData));
    }
    
    function applyFilters() {
      const searchTerm = searchInput.value.toLowerCase();
      const category = categoryFilter.value;
      const stockLevel = stockFilter.value;
      
      let filteredItems = inventoryData.filter(item => {
        if (searchTerm && !item.name.toLowerCase().includes(searchTerm)) return false;
        if (category !== 'all' && item.category !== category) return false;
        
        if (stockLevel !== 'all') {
          const stockStatus = getStockStatus(item);
          if (stockLevel === 'low' && stockStatus !== 'low') return false;
          if (stockLevel === 'out' && stockStatus !== 'out') return false;
          if (stockLevel === 'good' && stockStatus !== 'good') return false;
        }
        
        return true;
      });
      
      filteredItems.sort((a, b) => {
        const statusA = getStockStatus(a);
        const statusB = getStockStatus(b);
        const statusOrder = { 'out': 0, 'low': 1, 'good': 2 };
        return statusOrder[statusA] - statusOrder[statusB];
      });
      
      renderInventoryTable(filteredItems);
    }
    
    function getStockStatus(item) {
      if (item.currentStock <= 0) return 'out';
      if (item.currentStock <= item.minStock) return 'low';
      return 'good';
    }
    
    function renderInventoryTable(items) {
      inventoryList.innerHTML = '';
      
      if (items.length === 0) {
        noInventoryMessage.style.display = 'block';
      } else {
        noInventoryMessage.style.display = 'none';
        
        items.forEach(item => {
          const row = document.createElement('tr');
          const stockStatus = getStockStatus(item);
          
          const lastUpdated = new Date(item.lastUpdated);
          const dateString = lastUpdated.toLocaleDateString();
          const timeString = lastUpdated.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
          
          let statusBadge = '';
          switch(stockStatus) {
            case 'good':
              statusBadge = '<span class="status-badge" style="background: #28a745;">Good</span>';
              break;
            case 'low':
              statusBadge = '<span class="status-badge" style="background: #ffc107;">Low</span>';
              break;
            case 'out':
              statusBadge = '<span class="status-badge" style="background: #e74c3c;">Out</span>';
              break;
          }
          
          const stockIndicator = `
            <div style="display: flex; align-items: center; gap: 10px;">
              <div style="width: 100px; height: 8px; background: var(--gray-light); border-radius: 4px; overflow: hidden;">
                <div style="height: 100%; width: ${Math.min(100, (item.currentStock / (item.minStock * 3)) * 100)}%; 
                  background: ${stockStatus === 'good' ? '#28a745' : stockStatus === 'low' ? '#ffc107' : '#e74c3c'};">
                </div>
              </div>
              <span>${item.currentStock} ${item.unit}</span>
            </div>
          `;
          
          row.innerHTML = `
            <td><strong>${item.name}</strong></td>
            <td><span class="category-tag">${item.category}</span></td>
            <td>${stockIndicator}</td>
            <td>${item.minStock} ${item.unit}</td>
            <td>${statusBadge}</td>
            <td>${dateString}<br><small>${timeString}</small></td>
            <td>
              <div class="action-buttons">
                <button class="action-btn edit-btn" data-id="${item.id}">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="action-btn restock-action-btn" data-id="${item.id}">
                  <i class="fas fa-truck"></i>
                </button>
                <button class="action-btn delete-btn" data-id="${item.id}">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </td>
          `;
          
          inventoryList.appendChild(row);
        });
        
        document.querySelectorAll('.edit-btn').forEach(btn => {
          btn.addEventListener('click', () => editItem(parseFloat(btn.getAttribute('data-id'))));
        });
        
        document.querySelectorAll('.restock-action-btn').forEach(btn => {
          btn.addEventListener('click', () => openRestockModal(parseFloat(btn.getAttribute('data-id'))));
        });
        
        document.querySelectorAll('.delete-btn').forEach(btn => {
          btn.addEventListener('click', () => deleteItem(parseFloat(btn.getAttribute('data-id'))));
        });
      }
    }
    
    function updateInventoryStats() {
      let total = inventoryData.length;
      let low = 0;
      let out = 0;
      let needRestock = 0;
      
      inventoryData.forEach(item => {
        const status = getStockStatus(item);
        if (status === 'low') low++;
        if (status === 'out') out++;
        if (status === 'low' || status === 'out') needRestock++;
      });
      
      totalItemsEl.textContent = total;
      lowStockItemsEl.textContent = low;
      outOfStockItemsEl.textContent = out;
      needRestockEl.textContent = needRestock;
    }
    
    function addNewItem() {
      inventoryForm.reset();
      document.getElementById('modalTitle').textContent = 'Add New Item';
      document.getElementById('editItemId').value = '';
      currentItemId = null;
      itemModal.style.display = 'flex';
    }
    
    function editItem(itemId) {
      const item = inventoryData.find(i => i.id === itemId);
      if (!item) return;
      
      document.getElementById('modalTitle').textContent = 'Edit Item';
      document.getElementById('editItemId').value = item.id;
      document.getElementById('itemName').value = item.name;
      document.getElementById('itemCategory').value = item.category;
      document.getElementById('itemUnit').value = item.unit;
      document.getElementById('currentStock').value = item.currentStock;
      document.getElementById('minStock').value = item.minStock;
      document.getElementById('supplier').value = item.supplier || '';
      document.getElementById('cost').value = item.cost || '';
      document.getElementById('itemNotes').value = item.notes || '';
      
      currentItemId = itemId;
      itemModal.style.display = 'flex';
    }
    
    function saveItem() {
      if (!inventoryForm.checkValidity()) {
        inventoryForm.reportValidity();
        return;
      }
      
      const itemData = {
        id: currentItemId || Date.now(),
        name: document.getElementById('itemName').value,
        category: document.getElementById('itemCategory').value,
        unit: document.getElementById('itemUnit').value,
        currentStock: parseFloat(document.getElementById('currentStock').value),
        minStock: parseFloat(document.getElementById('minStock').value),
        supplier: document.getElementById('supplier').value,
        cost: parseFloat(document.getElementById('cost').value) || 0,
        notes: document.getElementById('itemNotes').value,
        lastUpdated: new Date().toISOString(),
        history: []
      };
      
      if (currentItemId) {
        const index = inventoryData.findIndex(i => i.id === currentItemId);
        if (index !== -1) {
          itemData.history = inventoryData[index].history;
          inventoryData[index] = itemData;
        }
      } else {
        inventoryData.push(itemData);
      }
      
      saveInventory();
      loadInventory();
      itemModal.style.display = 'none';
      alert(`Item "${itemData.name}" saved successfully!`);
    }
    
    function deleteItem(itemId) {
      if (!confirm('Are you sure you want to delete this item?')) return;
      
      inventoryData = inventoryData.filter(i => i.id !== itemId);
      saveInventory();
      loadInventory();
      alert('Item deleted successfully!');
    }
    
    function openRestockModal(itemId) {
      const item = inventoryData.find(i => i.id === itemId);
      if (!item) return;
      
      document.getElementById('restockItemId').value = item.id;
      document.getElementById('restockItemName').textContent = item.name;
      document.getElementById('restockCurrent').textContent = `${item.currentStock} ${item.unit}`;
      document.getElementById('restockMin').textContent = `${item.minStock} ${item.unit}`;
      document.getElementById('restockQuantity').value = '';
      document.getElementById('restockNotes').value = '';
      
      restockModal.style.display = 'flex';
    }
    
    function confirmRestock() {
      const itemId = parseFloat(document.getElementById('restockItemId').value);
      const quantity = parseFloat(document.getElementById('restockQuantity').value);
      const notes = document.getElementById('restockNotes').value;
      
      if (!quantity || quantity <= 0) {
        alert('Please enter a valid quantity.');
        return;
      }
      
      const itemIndex = inventoryData.findIndex(i => i.id === itemId);
      if (itemIndex === -1) return;
      
      const oldStock = inventoryData[itemIndex].currentStock;
      inventoryData[itemIndex].currentStock += quantity;
      inventoryData[itemIndex].lastUpdated = new Date().toISOString();
      
      inventoryData[itemIndex].history.push({
        date: new Date().toISOString(),
        action: 'restock',
        quantity: quantity,
        oldStock: oldStock,
        newStock: inventoryData[itemIndex].currentStock,
        notes: notes
      });
      
      saveInventory();
      loadInventory();
      restockModal.style.display = 'none';
      
      alert(`Restocked ${quantity} ${inventoryData[itemIndex].unit} of "${inventoryData[itemIndex].name}"`);
    }
    
    function showLowStock() {
      stockFilter.value = 'low';
      applyFilters();
    }
    
    function updateTime() {
      const now = new Date();
      const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: true
      };
      const timeEl = document.getElementById('currentTime');
      if (timeEl) {
        timeEl.textContent = now.toLocaleDateString('en-US', options);
      }
    }
    
    // Theme Toggle
    const themeToggle = document.getElementById('themeToggle');
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-theme');
      themeToggle.checked = true;
    }
    themeToggle.addEventListener('change', function() {
      if (this.checked) {
        document.body.classList.add('dark-theme');
        localStorage.setItem('theme', 'dark');
      } else {
        document.body.classList.remove('dark-theme');
        localStorage.setItem('theme', 'light');
      }
    });
    
    document.addEventListener('DOMContentLoaded', () => {
      loadInventory();
      updateTime();
      setInterval(loadInventory, 30000);
      setInterval(updateTime, 1000);
    });
    
    searchInput.addEventListener('input', applyFilters);
    categoryFilter.addEventListener('change', applyFilters);
    stockFilter.addEventListener('change', applyFilters);
    
    refreshBtn.addEventListener('click', loadInventory);
    addItemBtn.addEventListener('click', addNewItem);
    lowStockBtn.addEventListener('click', showLowStock);
    
    saveItemBtn.addEventListener('click', saveItem);
    confirmRestockBtn.addEventListener('click', confirmRestock);
    
    modalCloseButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        itemModal.style.display = 'none';
        restockModal.style.display = 'none';
      });
    });
    
    window.addEventListener('click', (event) => {
      if (event.target === itemModal) itemModal.style.display = 'none';
      if (event.target === restockModal) restockModal.style.display = 'none';
    });
  </script>
</body>
</html>
